# Video-to-Text ä½¿ç”¨ç¤ºä¾‹

> **å¿«é€Ÿä¸Šæ‰‹ç¤ºä¾‹**

---

## ç¤ºä¾‹ 1: åŸºç¡€è§†é¢‘è½¬å½•

### ä»»åŠ¡
å°†ä¸€ä¸ªæ•™å­¦è§†é¢‘è½¬æ¢ä¸ºæ–‡å­—

### ä½¿ç”¨ Whisper API

```bash
# 1. è®¾ç½® API Key
export OPENAI_API_KEY="sk-..."

# 2. è½¬å½•è§†é¢‘
python ~/.config/claude-code/skills/video-to-text/scripts/transcribe.py \
  --input ~/Downloads/lecture.mp4 \
  --output ~/Downloads/lecture.txt \
  --language zh
```

### ä½¿ç”¨æœ¬åœ° Whisper

```bash
# 1. å®‰è£… Whisperï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰
pip install openai-whisper

# 2. è½¬å½•è§†é¢‘
python ~/.config/claude-code/skills/video-to-text/scripts/transcribe_local.py \
  --input ~/Downloads/lecture.mp4 \
  --output ~/Downloads/lecture.txt \
  --model base \
  --language zh
```

**è¾“å‡º**: `lecture.txt`ï¼ˆçº¯æ–‡æœ¬ï¼‰

---

## ç¤ºä¾‹ 2: ç”Ÿæˆè§†é¢‘å­—å¹•

### ä»»åŠ¡
ä¸ºè§†é¢‘ç”Ÿæˆ SRT å­—å¹•æ–‡ä»¶

### ä½¿ç”¨ Whisper API

```bash
python ~/.config/claude-code/skills/video-to-text/scripts/transcribe.py \
  --input ~/Downloads/video.mp4 \
  --output ~/Downloads/subtitles.srt \
  --format srt \
  --language zh
```

### ä½¿ç”¨æœ¬åœ° Whisper

```bash
python ~/.config/claude-code/skills/video-to-text/scripts/transcribe_local.py \
  --input ~/Downloads/video.mp4 \
  --output ~/Downloads/subtitles.srt \
  --format srt \
  --model base \
  --language zh
```

**è¾“å‡º**: `subtitles.srt`ï¼ˆå­—å¹•æ–‡ä»¶ï¼Œå¯ç›´æ¥ç”¨äºè§†é¢‘ç¼–è¾‘è½¯ä»¶ï¼‰

---

## ç¤ºä¾‹ 3: ä¼šè®®å½•éŸ³è½¬å½•

### ä»»åŠ¡
å°†ä¼šè®®å½•éŸ³è½¬æ¢ä¸ºæ–‡å­—è®°å½•

### ä½¿ç”¨æœ¬åœ° Whisper

```bash
python ~/.config/claude-code/skills/video-to-text/scripts/transcribe_local.py \
  --input ~/Downloads/meeting.mp3 \
  --output ~/Downloads/meeting.md \
  --format md \
  --model small \
  --language zh
```

**è¾“å‡º**: `meeting.md`ï¼ˆå¸¦æ—¶é—´æˆ³çš„ Markdown æ–‡ä»¶ï¼‰

```markdown
# è§†é¢‘è½¬å½•

## [00:00] å¼€åœº
å¤§å®¶å¥½ï¼Œæ¬¢è¿å‚åŠ ä»Šå¤©çš„ä¼šè®®ã€‚

## [00:15] è®®é¢˜ä¸€ï¼šé¡¹ç›®è¿›åº¦
é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹é¡¹ç›®çš„å½“å‰è¿›åº¦ã€‚

...
```

---

## ç¤ºä¾‹ 4: é‡‡è®¿å½•éŸ³æ•´ç†

### ä»»åŠ¡
æ•´ç†é‡‡è®¿å½•éŸ³ï¼Œä¿ç•™æ—¶é—´æˆ³ä»¥ä¾¿å¼•ç”¨

### ä½¿ç”¨ Whisper API

```bash
python ~/.config/claude-code/skills/video-to-text/scripts/transcribe.py \
  --input ~/Downloads/interview.mp3 \
  --output ~/Downloads/interview.json \
  --format json \
  --language zh
```

**è¾“å‡º**: `interview.json`ï¼ˆåŒ…å«å®Œæ•´æ—¶é—´æˆ³ä¿¡æ¯ï¼‰

```json
{
  "text": "å®Œæ•´è½¬å½•æ–‡æœ¬...",
  "segments": [
    {
      "start": 0.0,
      "end": 5.2,
      "text": "æ‚¨å¥½ï¼Œæ„Ÿè°¢æ¥å—é‡‡è®¿ã€‚"
    },
    {
      "start": 5.2,
      "end": 12.8,
      "text": "å¾ˆé«˜å…´èƒ½åœ¨è¿™é‡Œåˆ†äº«æˆ‘çš„ç»éªŒã€‚"
    }
  ]
}
```

---

## ç¤ºä¾‹ 5: æ‰¹é‡å¤„ç†æ’­å®¢

### ä»»åŠ¡
æ‰¹é‡è½¬æ¢å¤šä¸ªæ’­å®¢éŸ³é¢‘æ–‡ä»¶

### åˆ›å»ºæ‰¹å¤„ç†è„šæœ¬

```bash
#!/bin/bash

# æ’­å®¢ç›®å½•
PODCAST_DIR=~/Downloads/podcasts
OUTPUT_DIR=~/Downloads/transcripts

# åˆ›å»ºè¾“å‡ºç›®å½•
mkdir -p "$OUTPUT_DIR"

# æ‰¹é‡å¤„ç†
for file in "$PODCAST_DIR"/*.mp3; do
    filename=$(basename "$file" .mp3)
    echo "æ­£åœ¨å¤„ç†: $filename"

    python ~/.config/claude-code/skills/video-to-text/scripts/transcribe_local.py \
        --input "$file" \
        --output "$OUTPUT_DIR/$filename.txt" \
        --model base \
        --language zh \
        --verbose
done

echo "âœ… æ‰¹é‡å¤„ç†å®Œæˆ"
```

**ä½¿ç”¨æ–¹æ³•**:
```bash
# ä¿å­˜ä¸º batch_podcasts.sh
chmod +x batch_podcasts.sh
./batch_podcasts.sh
```

---

## ç¤ºä¾‹ 6: Claude Code é›†æˆ

### ä½¿ç”¨ Claude Code æ‰§è¡Œè½¬å½•

**åœºæ™¯**: è®© Claude Code å¸®ä½ è½¬å½•è§†é¢‘

```
ä½ ï¼šå¸®æˆ‘è½¬å½•è¿™ä¸ªè§†é¢‘ï¼š~/Downloads/video.mp4

Claude Codeï¼š
å¥½çš„ï¼Œæˆ‘æ¥å¸®ä½ è½¬å½•è§†é¢‘ã€‚

[Think Aloud] ä½¿ç”¨ video-to-text skill
â†’ è°ƒç”¨ transcribe_local.py
â†’ æ¨¡å‹ï¼šbaseï¼Œè¯­è¨€ï¼šzh

âœ… è½¬å½•å®Œæˆï¼

è½¬å½•æ–‡æœ¬ï¼ˆé¢„è§ˆï¼‰ï¼š
å¤§å®¶å¥½ï¼Œæ¬¢è¿æ¥åˆ°ä»Šå¤©çš„è§†é¢‘ã€‚ä»Šå¤©æˆ‘ä»¬è¦è®¨è®º...

å®Œæ•´æ–‡æœ¬å·²ä¿å­˜åˆ°ï¼š~/Downloads/video.txt
```

---

## ç¤ºä¾‹ 7: ç»“åˆå…¶ä»–æŠ€èƒ½

### è§†é¢‘ â†’ æ–‡å­— â†’ æ–‡ç« 

**æµç¨‹**:
1. è§†é¢‘è½¬æ–‡å­—
2. æå–å…³é”®è§‚ç‚¹
3. åˆ›ä½œæ–‡ç« 

**ä½¿ç”¨æ–¹æ³•**:
```
ä½ ï¼šåŸºäºè¿™ä¸ªè§†é¢‘å†™ä¸€ç¯‡æ–‡ç« ï¼š~/Downloads/lecture.mp4

Claude Codeï¼š
å¥½çš„ï¼Œæˆ‘å…ˆè½¬å½•è§†é¢‘å†…å®¹ï¼Œç„¶ååŸºäºè½¬å½•æ–‡æœ¬åˆ›ä½œæ–‡ç« ã€‚

[Think Aloud]
1. ä½¿ç”¨ video-to-text skill è½¬å½•è§†é¢‘
2. ä½¿ç”¨å†™ä½œAgent åˆ›ä½œæ–‡ç« 
3. å¼•ç”¨åŸæ–‡æ—¶é—´æˆ³

âœ… æ–‡ç« åˆ›ä½œå®Œæˆï¼

å¼•ç”¨æ¥æºï¼š
- [00:05:23] "äººå·¥æ™ºèƒ½çš„æ ¸å¿ƒæ˜¯..."
- [00:12:45] "æœªæ¥çš„å‘å±•è¶‹åŠ¿..."

æ–‡ç« å·²ä¿å­˜åˆ°ï¼š~/Downloads/article.md
```

---

## ğŸ’¡ æç¤ºå’ŒæŠ€å·§

### 1. é€‰æ‹©åˆé€‚çš„æ¨¡å‹

| åœºæ™¯ | æ¨èæ¨¡å‹ | åŸå›  |
|------|---------|------|
| å¿«é€Ÿæµ‹è¯• | tiny | æœ€å¿« |
| æ—¥å¸¸ä½¿ç”¨ | base | å¹³è¡¡é€Ÿåº¦å’Œå‡†ç¡®åº¦ â­ |
| é«˜å‡†ç¡®åº¦ | small/medium | æ›´å‡†ç¡®çš„è½¬å½• |
| ä¸“ä¸šä½¿ç”¨ | large | æœ€é«˜å‡†ç¡®åº¦ |

### 2. æé«˜è½¬å½•å‡†ç¡®åº¦

- âœ… ä½¿ç”¨é«˜è´¨é‡çš„éŸ³é¢‘/è§†é¢‘
- âœ… å‡å°‘èƒŒæ™¯å™ªéŸ³
- âœ… æ˜ç¡®æŒ‡å®šè¯­è¨€ï¼ˆ`--language zh`ï¼‰
- âœ… ä½¿ç”¨æ›´å¤§çš„æ¨¡å‹ï¼ˆ`--model medium`ï¼‰
- âœ… é¿å…å¤šè¯´è¯äººé‡å 

### 3. å¤„ç†å¤§æ–‡ä»¶

- **API æ¨¡å¼**: è‡ªåŠ¨åˆ†å—å¤„ç†ï¼ˆæ¯å— 25MBï¼‰
- **æœ¬åœ°æ¨¡å¼**: æ— é™åˆ¶ï¼Œä½†éœ€è¦è¶³å¤Ÿå†…å­˜

### 4. è¾“å‡ºæ ¼å¼é€‰æ‹©

| æ ¼å¼ | ç”¨é€” |
|------|------|
| txt | çº¯æ–‡æœ¬é˜…è¯» |
| srt | è§†é¢‘å­—å¹• |
| vtt | Web å­—å¹• |
| json | æ•°æ®å¤„ç† |
| md | å¸¦æ—¶é—´æˆ³çš„ç¬”è®° |

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

**æŸ¥çœ‹å®Œæ•´æ–‡æ¡£**:
- SKILL.mdï¼šå®Œæ•´æŠ€èƒ½è¯´æ˜
- README.mdï¼šå¿«é€Ÿä½¿ç”¨æŒ‡å—

**å¸¸è§é—®é¢˜**:
- Q: Whisper API æˆæœ¬ï¼Ÿ
  A: $0.006 / åˆ†é’Ÿï¼Œ1å°æ—¶è§†é¢‘çº¦ $0.36

- Q: æœ¬åœ° Whisper é€Ÿåº¦ï¼Ÿ
  A: base æ¨¡å‹ï¼š1å°æ—¶è§†é¢‘ â‰ˆ 10-15 åˆ†é’Ÿ

- Q: æ”¯æŒå“ªäº›è¯­è¨€ï¼Ÿ
  A: 50+ ç§è¯­è¨€ï¼ŒåŒ…æ‹¬ä¸­æ–‡å’Œè‹±æ–‡

---

**æ›´æ–°æ—¶é—´**: 2026-01-27
