# 本地搜索指南

## 概述

本地搜索是 `weChat-article-creator` 技能的核心能力之一，允许您从本地文件系统中快速检索品牌资料、历史内容、范文和模板，实现**本地优先**的内容创作策略。

## 🎯 为什么本地优先？

### 本地搜索的优势
- ⚡ **速度快**：无需联网，秒级响应
- ✅ **准确性高**：您自己的资料，可信度高
- 📚 **品牌一致性**：自动使用标准化的品牌档案
- 🔄 **可复用**：历史内容和范文可直接参考
- 💾 **零成本**：不需要外部搜索服务

### 本地 vs 网络对比

| 维度 | 本地搜索 | 网络搜索 |
|------|---------|---------|
| 速度 | ⚡⚡⚡ 极快 | 🐡 较慢 |
| 准确性 | ✅ 您的资料 | ⚠️ 需验证 |
| 时效性 | 📅 历史资料 | 🌟 最新数据 |
| 用途 | 品牌信息、范文、模板 | 行业动态、补充数据 |
| 成本 | 💰 免费 | 💰 可能付费 |

---

## 🔍 搜索工具和方法

### 工具1：Grep（内容搜索）

**功能**：在文件内容中搜索关键词

**使用场景**：
- 搜索品牌核心卖点
- 查找特定主题的历史内容
- 检索特定数据或案例

**AI命令示例**：
```
"搜索本地品牌档案中的核心卖点"
"在所有markdown文件中查找'睡眠'相关内容"
"搜索悟昕相关的市场数据"
```

**技术实现**（AI自动执行）：
```bash
grep -r "核心卖点" assets/brand_profiles/
grep -r "睡眠" --include="*.md" /Users/echo/
```

### 工具2：Glob（文件名搜索）

**功能**：按文件名模式查找文件

**使用场景**：
- 查找特定类型的文件
- 定位品牌档案或模板
- 发现历史文章

**AI命令示例**：
```
"查找所有品牌档案文件"
"列出所有的范文文件"
"找到所有悟昕相关的markdown文件"
```

**技术实现**（AI自动执行）：
```bash
find . -name "*brand*.md"
find . -name "sample_*.md"
ls -la assets/brand_profiles/
```

### 工具3：Read（文件读取）

**功能**：读取特定文件内容

**使用场景**：
- 读取完整的品牌档案
- 查看范文结构
- 获取模板内容

**AI命令示例**：
```
"读取悟昕科技品牌档案"
"查看sample_06的品牌故事范文"
"读取科普文章模板"
```

---

## 📂 本地资源结构

### 技能内的本地资源 ⚠️ 使用绝对路径

**重要提示**：AI 在搜索时必须使用以下绝对路径，否则会找不到文件！

```
技能资源根目录：~/.config/claude-code/skills/weChat-article-creator/assets/

├── brand_profiles/          # 品牌档案
│   ├── wuxin_tech.md        # 悟昕科技档案
│   └── _template.md         # 品牌档案模板
│
├── samples/                 # 专业范文库（8篇）
│   ├── sample_01_whole_foods.md      # Whole Foods 商业分析
│   ├── sample_02_star_products.md    # 明星产品创新
│   ├── sample_03_aldi.md             # ALDI 硬折扣模式
│   ├── sample_04_simple_truth.md     # Simple Truth 品牌
│   ├── sample_05_time_relativity.md  # 时间相对性科普
│   ├── sample_06_brand_story.md      # 悟昕品牌故事
│   ├── sample_07_sleep_science.md    # 睡眠科普清单
│   └── sample_08_sleep_breakdown.md  # 睡眠问题科学拆解
│
├── templates/               # 创作模板库
│   ├── business_analysis.md      # 商业分析模板
│   ├── science_popular.md        # 科普文章模板
│   ├── pr_soft_article.md        # 公关软文模板
│   ├── official_announcement.md  # 官方媒体模板
│   ├── partner_post.md           # 合作方文章模板
│   ├── xiaohongshu_post.md       # 小红书文案模板
│   └── xiaohongshu_wuxin_viral.md # 悟昕爆款模板
│
├── user_style_analysis.md   # 写作风格指南
│
└── output/                  # 历史输出
    ├── articles/            # 历史文章
    ├── research/            # 研究资料
    └── drafts/              # 草稿
```

**AI 搜索命令示例**（使用绝对路径）：
```bash
# 搜索范文
grep -r "关键词" ~/.config/claude-code/skills/weChat-article-creator/assets/samples/

# 读取品牌档案
read ~/.config/claude-code/skills/weChat-article-creator/assets/brand_profiles/wuxin_tech.md

# 查找模板
find ~/.config/claude-code/skills/weChat-article-creator/assets/templates/ -name "*.md"
```

### 用户系统中的本地资源

```
/Users/echo/
├── Desktop/
│   ├── 悟昕KOS号规划/           # 运营规划
│   ├── 大秘书系统/
│   │   └── 个人素材库/          # ✨ NEW - Get笔记素材库
│   │       ├── 按日期记录/       # 日期索引的笔记
│   │       │   ├── 2025/
│   │       │   │   ├── 2025-01/
│   │       │   │   │   └── 2025-01-27.md
│   │       │   │   └── ...
│   │       │   └── .last_sync
│   │       └── 主题索引/         # 标签索引的笔记
│   │           ├── AI编程工具.md
│   │           ├── 产品观点.md
│   │           └── ...
│   └── 悟昕投放_图片汇总_*.zip  # 素材库
│
├── 悟昕新年睡眠科普.md           # 示例内容
├── 悟昕科技_完整资料整理.md      # 整理文档
│
└── Library/Mobile Documents/
    └── [各类云文档]
```

---

## 🎯 搜索策略

### 策略1：品牌内容创作（本地优先）

**适用场景**：为悟昕写品牌文章

**搜索步骤**：
1. **读取品牌档案** → `brand_profiles/wuxin_tech.md`
2. **查找范文** → `samples/` 中相关类型
3. **参考写作风格** → `user_style_analysis.md`
4. **使用模板** → `templates/` 中对应模板
5. **网络补充**（可选）→ 最新行业数据

**AI命令示例**：
```
"基于悟昕本地品牌档案，写一篇小红书文案"
```

AI会自动：
- ✅ 读取 `wuxin_tech.md`
- ✅ 提取核心卖点
- ✅ 参考写作风格指南
- ✅ 使用小红书模板
- ✅ 生成符合品牌调性的内容

### 策略2：历史内容复用

**适用场景**：参考或更新历史文章

**搜索步骤**：
1. **定位历史文章** → `output/articles/` 或用户指定目录
2. **读取原文** → 分析结构和风格
3. **更新数据** → 结合最新信息
4. **优化表达** → 根据新的写作规范

**AI命令示例**：
```
"查找我之前写的悟昕科普文章，更新并优化"
```

AI会自动：
- ✅ 搜索包含"悟昕"和"科普"的文件
- ✅ 读取历史内容
- ✅ 根据最新风格指南优化
- ✅ 更新数据和案例

### 策略3：组合搜索（本地+网络）

**适用场景**：需要最新数据的品牌文章

**搜索步骤**：
1. **本地基础信息** → 品牌档案、核心卖点、调性
2. **网络最新数据** → 2024-2025年市场报告、行业趋势
3. **整合信息** → 本地信息确保准确性，网络信息确保时效性

**AI命令示例**：
```
"基于悟昕本地资料，搜索2024年最新睡眠市场数据，写一篇分析文章"
```

AI会自动：
- ✅ 读取本地品牌档案
- ✅ 网络搜索最新数据
- ✅ 整合两个来源
- ✅ 标注信息来源

### 策略4：个人素材库降AI味 ✨ NEW

**适用场景**：需要真实经历和观点的内容创作

**素材库特点**：
- 📱 手机随时记录（Get 笔记 App）
- 🔄 自动同步到本地 Markdown
- 🏷️ 按日期和主题双重索引
- ✅ 真实经历、观点、案例

**搜索步骤**：
1. **按主题搜索** → `主题索引/` 中查找相关标签
2. **按日期搜索** → `按日期记录/` 中查找近期记录
3. **提取真实素材** → 个人经历、评价、项目案例
4. **改写融入文章** → 长文逻辑，自然过渡

**AI命令示例**：
```
"搜索个人素材库中关于'AI编程工具'的素材"
"查找最近7天关于'产品观点'的笔记"
"整合素材库中'项目复盘'相关的真实案例"
```

AI会自动：
- ✅ 在 `~/Desktop/个人素材库/主题索引/` 中搜索标签
- ✅ 读取相关素材内容
- ✅ 提取核心观点和案例
- ✅ 改写成文章逻辑
- ✅ 确保真实性和可信度

**使用场景**：
- 文章开头：用真实经历引入（"上周我测试了..."）
- 观点支撑：用真实评价增强（"我用下来最大的感受是..."）
- 案例展示：用真实项目案例（"最近用XX完成了悟昕项目..."）
- 结尾思考：用个人洞察升华（"这让我想到..."）

---

## 💡 常用搜索命令

### 品牌信息搜索

```
✅ "读取悟昕科技品牌档案"
✅ "搜索悟昕的核心卖点"
✅ "查找悟昕的目标用户描述"
✅ "搜索悟昕的品牌调性要求"
```

### 范文和模板搜索

```
✅ "查找品牌故事类范文"
✅ "搜索科普清单体范文"
✅ "读取小红书文案模板"
✅ "查看公关软文模板"
```

### 历史内容搜索

```
✅ "搜索我之前写的悟昕文章"
✅ "查找所有小红书文案"
✅ "搜索最近的科普文章"
✅ "查找Desktop中的悟昕资料"
```

### 个人素材库搜索 ✨ NEW

```
✅ "搜索个人素材库中关于'AI编程工具'的素材"
✅ "查找最近7天的所有笔记"
✅ "搜索标签包含'产品观点'的笔记"
✅ "查找'项目复盘'相关的真实案例"
✅ "搜索素材库中所有关于Claude的记录"
```

### 关键信息提取

```
✅ "从悟昕档案中提取市场数据"
✅ "搜索所有睡眠相关的统计数字"
✅ "查找悟昕的技术优势描述"
✅ "提取品牌故事中的金句"
```

---

## 🚀 实战示例

### 示例1：快速写小红书文案

**命令**：
```
"基于本地悟昕资料，写一篇产品种草小红书文案"
```

**AI执行流程**：
1. 🔍 读取 `brand_profiles/wuxin_tech.md`
2. 🔍 参考 `sample_07_sleep_science.md`
3. 🔍 使用 `templates/xiaohongshu_post.md`
4. ✍️ 生成符合品牌调性的文案
5. ✅ 核对核心卖点完整性
6. ✅ 确保小红书风格

### 示例2：更新历史文章

**命令**：
```
"搜索悟昕新年睡眠科普文章，按新风格优化"
```

**AI执行流程**：
1. 🔍 搜索文件名包含"悟昕"和"科普"的文件
2. 📖 读取 `/Users/echo/悟昕新年睡眠科普.md`
3. 📖 参考 `user_style_analysis.md` 最新风格
4. ✍️ 优化文章结构和表达
5. ✅ 保留核心科普内容
6. ✅ 提升品牌软植入

### 示例3：跨平台内容创作

**命令**：
```
"基于悟昕品牌档案，创作一套公众号+小红书内容"
```

**AI执行流程**：
1. 🔍 读取品牌档案（统一信息源）
2. 📱 公众号：参考 `sample_06`（创始人故事体）
3. 📱 小红书：参考 `sample_07`（科普清单体）
4. ✅ 确保核心卖点一致
5. ✅ 适配平台风格差异
6. ✅ 输出两篇内容

### 示例4：使用个人素材库降AI味 ✨ NEW

**命令**：
```
"写一篇关于Claude Code的评测，使用个人素材库中的真实经历"
```

**AI执行流程**：
1. 🔍 搜索 `~/Desktop/个人素材库/主题索引/AI编程工具.md`
2. 📖 读取相关素材（如："上周用Claude Code写脚本，30分钟完成"）
3. 🔍 搜索 `~/Desktop/个人素材库/主题索引/项目复盘.md`
4. 📖 读取项目案例（如："悟昕项目花了2小时"）
5. ✍️ 整合真实经历到文章中
6. ✅ 改写成自然的长文逻辑
7. ✅ 确保真实性和可信度

**效果对比**：

| 维度 | 纯AI生成 | 使用个人素材库 |
|------|----------|----------------|
| 开头 | "Claude Code是一款强大的AI编程工具" | "上周我把开发工具换成了Claude Code，用了三天，说点真实的感受" |
| 案例 | 编造/通用案例 | "最近用Claude Code完成了悟昕项目，花了2小时" |
| 观点 | 中立客观 | "我用下来最大的感受是：能看到项目文件太重要了" |
| AI味 | 明显 | 大幅降低 |

---

## 📊 搜索效率对比

### 场景：写一篇悟昕品牌文章

| 方式 | 步骤 | 时间 | 数据质量 |
|------|------|------|---------|
| **纯网络搜索** | 搜索品牌信息 → 查找案例 → 参考风格 | 10-15分钟 | ⚠️ 需验证 |
| **纯本地搜索** | 读取档案 → 查找范文 → 使用模板 | 2-3分钟 | ✅ 高准确性 |
| **组合搜索** | 本地基础 → 网络补充 → 整合 | 5-8分钟 | ✅✅ 最佳 |

---

## ⚙️ 高级技巧

### 技巧1：批量搜索

**命令**：
```
"搜索所有悟昕相关的markdown文件，列出核心信息"
```

AI会：
- ✅ 使用 Glob 找到所有相关文件
- ✅ 逐个读取关键内容
- ✅ 提取核心信息（卖点、数据、案例）
- ✅ 生成汇总报告

### 技巧2：跨目录搜索

**命令**：
```
"在Desktop和当前目录搜索所有悟昕资料"
```

AI会：
- ✅ 搜索 `/Users/echo/Desktop/`
- ✅ 搜索 `/Users/echo/`
- ✅ 整合两个目录的结果
- ✅ 去重和分类

### 技巧3：模式搜索

**命令**：
```
"搜索所有包含'48%'或'3亿'的悟昕内容"
```

AI会：
- ✅ 使用 Grep 正则表达式
- ✅ 搜索包含特定数字的行
- ✅ 提取上下文信息
- ✅ 标注数据来源

---

## 🔧 故障排查

### 问题1：搜索不到文件

**可能原因**：
- 文件路径错误
- 文件权限问题
- 关键词不匹配

**解决方法**：
```
"搜索/Users/echo/Desktop下所有悟昕相关文件"
"放宽搜索条件，查找包含'睡眠'的文件"
```

### 问题2：找到太多文件

**可能原因**：
- 搜索关键词太宽泛
- 搜索范围太大

**解决方法**：
```
"只在brand_profiles目录中搜索"
"搜索包含'悟昕'和'科普'的文件"
"只搜索最近修改的文件"
```

### 问题3：内容不完整

**可能原因**：
- 文件被截断
- 编码问题
- 权限限制

**解决方法**：
```
"完整读取悟昕品牌档案"
"读取文件的指定行数"
"尝试读取备份文件"
```

---

## 📌 最佳实践

### ✅ 推荐做法

1. **品牌内容优先本地搜索**
   - 品牌档案是唯一准确来源
   - 确保品牌话术一致

2. **历史内容充分利用**
   - 复用成功案例
   - 参考验证过的表达

3. **本地+网络组合**
   - 本地提供基础框架
   - 网络补充最新数据

4. **定期更新本地资料**
   - 保持品牌档案最新
   - 保存优质范文

### ❌ 避免做法

1. 不要每次都重新搜索品牌信息
2. 不要忽略历史内容的参考价值
3. 不要只依赖网络搜索
4. 不要在错误的目录中搜索

---

## 🎓 学习路径

### 初级：基础本地搜索
- 读取品牌档案
- 查找范文
- 使用模板

### 中级：组合搜索
- 本地+网络
- 多文件整合
- 跨目录搜索

### 高级：自定义搜索策略
- 批量搜索
- 模式匹配
- 自动化流程

---

**最后更新**: 2025-01-27
**版本**: v1.0
